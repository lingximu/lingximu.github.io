<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--                                             
 ___ _______ _____  __ _____  ___ _      _______  __ _ 
/ _ `/ __/ // / _ \/ // / _ \/ _ `/ _   / __/ _ \/  ' \
\_, /\__/\_, /\___/\_,_/_//_/\_, / (_)  \__/\___/_/_/_/
 /_/    /___/               /___/                                                                         
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
  <!--<![endif]-->
  
<head>
  <title>è®°ä¸€æ¬¡ assert ä¸­æŠ›å‡ºçš„é”™è¯¯è¢« vue router åäº†çš„ bug æ’æŸ¥ç»å† | çµçŠ€æœ¨çš„åšå®¢</title>
  <!-- Meta data -->
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="baidu-site-verification" content="teMXKvOcC9">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="çµçŠ€æœ¨çš„åšå®¢">
  <meta name="author" content="lingxi mu">
  <meta name="description" content="JavaScriptã€nodejsã€CSSã€c++ã€browserç›¸å…³æŠ€æœ¯">
  <meta name="keywords" content="">
  <meta name="renderer" content="webkit|ie-comp|ie-stand"/>
  <meta name="Copyright" content="lingximu"/>
  <meta name="Contact" content="644522083@163.com"/>

  <!-- Favicon, (keep icon in root folder) -->
  <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

  <link rel="alternate" href="/atom.xml" title="çµçŠ€æœ¨çš„åšå®¢" type="application/atom+xml">
  <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
	
  <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
  
  <link rel="apple-touch-icon" href="/img/favicon.ico">
  <!-- Custom stylesheet, (add custom styles here, always load last) -->
  <!-- Load our stylesheet for IE8 -->
  <!--[if IE 8]>
  <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
  <![endif]-->

  <!-- Google Webfonts (Monserrat 400/700, Open Sans 400/600) -->
  <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600" rel="stylesheet" type="text/css">

  <!-- Load our fonts individually if IE8+, to avoid faux bold & italic rendering -->
  <!--[if IE]>
  <link href='http://fonts.googleapis.com/css?family=Montserrat:400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Montserrat:700' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:600' rel='stylesheet' type='text/css'>
  <![endif]-->

  <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
  <script src="/js/lib/jquery-1.11.1.min.js"></script>
  <!-- Load these in the <head> for quicker IE8+ load times -->
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="/js/lib/html5shiv.min.js"></script>
  <script src="/js/lib/respond.min.js"></script>
  <![endif]-->
  
  
  
</head>

  <!--
  <body class="post-template">
  -->
  <head><link href="/build/public/css/bundle.bb2b2222.min.css" rel="stylesheet"></head>
  <body id="index" class="lightnav">
    <!-- ============================ Off-canvas navigation =========================== -->
<div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
  <div class="slide-wrapper" id="slide-wrapper">
    <div id="slide-canvas">

    </div>
    <div class="slide-content">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
          <i class="fa fa-close"></i>
        </div>
        <div class="clear"></div>
        <div class="site-overview">
          <a style="text-transform: none;" href="/">
            <div class="site-author">
              <img class="site-author-img" width="100px" height="100px" data-src="http://101.132.161.32:8000/img/tiger.png">
              <div class="site-author-name">lingxi mu</div>
            </div>
          </a>
          <div class="sb-list">
            <div class="sb-item sb-posts">
              <a href="/archives">
                <span class="sb-item-count">6</span>
                <span class="sb-item-name">æ—¥å¿—</span>
              </a>
            </div>
            <div class="sb-item sb-words">
              <a href="/archives">
                <span class="sb-item-count">10.7k</span>
                <span class="sb-item-name">å­—æ•°</span>
              </a>
            </div>
            <div class="sb-item sb-categories">
              <a href="/">
                <span class="sb-item-count">0</span>
                <span class="sb-item-name">åˆ†ç±»</span>
              </a>
            </div>
          </div>
        </div>

        <div class="sb-rss">
          <a href="/atom.xml">RSS</a>
        </div>

        <div class="web-links">
          
            <div class="sb-links">
              <div class="links-title">é“¾æ¥</div>
              <span class="sb-item-links">
                
                  <a href="https://opensourcecontributo.rs/user/lingximu" class="animsition-link" data-toggle="tooltip" data-placement="bottom" title="GitHub contributions" target="_blank" rel="nofollow noopener noreferrer">Contributions</a>
                
                  <a href="http://www.101.132.161.32:8000/links" class="animsition-link" data-toggle="tooltip" data-placement="bottom" title="Friend Sites" target="_blank" rel="nofollow noopener noreferrer">Links</a>
                
                  <a href="http://www.101.132.161.32:8000/categories/%E6%88%91%E7%9A%84%E7%94%9F%E6%B4%BB/" class="animsition-link" data-toggle="tooltip" data-placement="bottom" title="Work life" target="_blank" rel="nofollow noopener noreferrer">Life</a>
                
              </span>
            </div>
          
        </div>

        <div class="web-links">
          
            <div class="sb-links">
              <div class="links-title">æ›´å¤š</div>
              <span class="sb-item-links">
                
                  <a href="https://github.com/xitu/gold-miner/wiki/%E8%AF%91%E8%80%85%E7%A7%AF%E5%88%86%E8%A1%A8" class="animsition-link" target="_blank" rel="nofollow noopener noreferrer">æ˜é‡‘ç¿»è¯‘è®¡åˆ’</a>
                
              </span>
            </div>
          
        </div>

        <div class="cc-license">
          <a href="http://creativecommons.org/licenses/by-nc/4.0">
            <img data-src="http://101.132.161.32:8000/img/cc-by-nc.svg">
          </a>
        </div>

        <div class="slider-action">
          <span class="action-go"> âœ§*ï½¡Ù©(ËŠÏ‰Ë‹*)Ùˆï½¡*âœ§ </span>
        </div>
      </div>
    </div>
</div>

<!-- ============================ END Off-canvas navigation =========================== -->

<!-- ============================ #sb-site Main Page Wrapper =========================== -->

<div id="sb-site" class="sb-site">
  <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

  <!-- ============================ Header & Logo bar =========================== -->

  <div id="navigation" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <!-- Nav logo -->
        <div class="logo">
          <a href="/" title="Logo" class="animsition-link">
           <img id="white-logo" src="http://101.132.161.32:8000/img/logo.png" alt="Logo" width="25px;"/><img id="brown-logo" src="http://101.132.161.32:8000/img/logo_green.png" alt="Logo" width="25px;" style="display:none"> 
          </a>
        </div>
        <!-- Info-bar -->
        <nav>
          <ul class="nav">
            <li><a href="/" class="animsition-link website-title">çµçŠ€æœ¨çš„åšå®¢</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">å½’æ¡£</a></li>
            <li class="mobile-li"><a href="/" class="animsition-link" title="archive">ç›®å½•</a></li>
            <!-- <li><a href="/tags" class="animsition-link" title="tags">æ ‡ç­¾</a></li> -->
            <li class="mobile-li"><a href="/" class="animsition-link" title="archive">å…³äº</a></li>
            <li class="mobile-li"><a href="/" class="animsition-link" title="archive">ç•™è¨€æ¿</a></li>
            
              <li><a href="https://github.com/lingximu" title="Github" target="_blank" rel="nofollow noopener noreferrer"><i class="icon-Popular_GitHub"></i></a></li>
            
            <!-- <li><a href="javascript:void(0)" title="Weixin" class="weixin"><i class="icon-CN_tencent_wechat"></i></a></li>
            
              <li><a href="http://weibo.com/lingximu" title="Sina-Weibo" target="_blank" rel="nofollow noopener noreferrer"><i class="icon-CN_sina_weibo"></i></a></li>
            
            
              <li><a href="https://twitter.com/lingximu" title="Twitter" target="_blank" rel="nofollow noopener noreferrer"><i class="icon-Popular_Twitter"></i></a></li>
            
            
              <li><a href="http://www.zhihu.com/people/lingximu" title="Zhihu" target="_blank" rel="nofollow noopener noreferrer"><i class="icon-CN_zhihu"></i></a></li>
             -->
            <li class="nolink">
              <span class="welcome">Welcome!</span>
            </li>
          </ul>
        </nav>
        <!--// Info-bar -->
      </div>
      <!-- // .container -->
      <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar before"></span>
        <span class="icon-bar main"></span>
        <span class="icon-bar after"></span>
      </button>
    </div>
    <!-- // .navbar-inner -->
  </div>

  <!-- ============================ Header & Logo bar =========================== -->

  <!-- ============================ Hero Image =========================== -->

  <section id="hero" class="scrollme">
    <div class="container-fluid element-img">
      <div class="row">
        <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 vertical-align cover boost text-center">
          <div class="center-me animateme" data-when="exit" data-from="0" data-to="0.6" data-opacity="0" data-translatey="100">
            <div class="center-text">
              
                <h2 class="home-header">GLAD TO SEE U, WELCOME TO lingximu &#39;S BLOG.</h2>
                <p class="home-text"></p>
		          
                <h2 class="home-header"></h2>
                <p class="home-text">æ¯ä¸€ä¸ªä¸æ›¾èµ·èˆçš„æ—¥å­éƒ½æ˜¯å¯¹ç”Ÿå‘½çš„è¾œè´Ÿ â€”â€” å°¼é‡‡ ã€ŠæŸ¥æ‹‰å›¾æ–¯ç‰¹æ‹‰å¦‚æ˜¯è¯´ã€‹</p>
		          
            </div>
          </div>
        </div>
      </div>
      <div class="herofade beige-dk"></div>
    </div>
  </section>

  <!-- ============================ END Hero Image =========================== -->
    
<section id="intro" class="intro">
  <div class="container">
    <div class="post-content">
      
        <div id="toc" class="toc-article col-md-2">
          <strong class="toc-title">ç›®å½•</strong>
          <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#é”™è¯¯å¤ç°"><span class="toc-number">1.</span> <span class="toc-text">é”™è¯¯å¤ç°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#é”™è¯¯å®šä½"><span class="toc-number">2.</span> <span class="toc-text">é”™è¯¯å®šä½</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Object-prototype-toString"><span class="toc-number">3.</span> <span class="toc-text">Object.prototype.toString</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nodejs-ç«¯-assert-å®ç°"><span class="toc-number">4.</span> <span class="toc-text">nodejs ç«¯ assert å®ç°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#extends-ç»§æ‰¿è§„èŒƒ"><span class="toc-number">5.</span> <span class="toc-text">extends ç»§æ‰¿è§„èŒƒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#babel-è½¬ç çš„å®è´¨"><span class="toc-number">6.</span> <span class="toc-text">babel è½¬ç çš„å®è´¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#browser-ç«¯-assert-å®ç°"><span class="toc-number">7.</span> <span class="toc-text">browser ç«¯ assert å®ç°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#è§£å†³åŠæ³•"><span class="toc-number">8.</span> <span class="toc-text">è§£å†³åŠæ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ€»ç»“"><span class="toc-number">9.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol>
        </div>
      
      <div class="col-md-8 col-md-offset-3">
        <div>
          <h1 class="article-title">è®°ä¸€æ¬¡ assert ä¸­æŠ›å‡ºçš„é”™è¯¯è¢« vue router åäº†çš„ bug æ’æŸ¥ç»å†</h1>
          <time datetime="2018-07-21T13:31:20.000Z" itemprop="datePublished" class="post-time">
            <span>å‘å¸ƒæ—¶é—´ï¼š2018 å¹´ 07 æœˆ 21 æ—¥</span>
            <span style="margin-left: 10px;">æœ€è¿‘æ›´æ–°äºï¼š2018 å¹´ 07 æœˆ 21 æ—¥</span>
            <span style="margin-left: 10px;">æœ¬æ–‡å…± 2,995 å­—ï¼Œè¯»å®Œçº¦ 13 åˆ†é’Ÿ</span>
          </time>
        </div>
      </div>
      <div class="col-md-8 col-md-offset-3">
        <div class="post-article">
          <blockquote>
<p>ä»Šå¤©é‡åˆ°ä¸€ä¸ªbugï¼Œåœ¨è¿›è¡Œè·¯ç”±è·³è½¬çš„æ—¶å€™ï¼Œé¡µé¢ä¸€ç›´æ¸²æŸ“ä¸å‡ºæ¥ã€‚è€Œä¸”æ§åˆ¶å°ä¹Ÿæ²¡æœ‰é”™è¯¯æ‰“å°å‡ºæ¥ã€‚<br>å®šä½é—®é¢˜åï¼Œå‘ç°æ˜¯åœ¨ vue router è¿›è¡Œè·³è½¬çš„æ—¶å€™æŠ›å‡ºäº†ä¸€ä¸ªé”™è¯¯ï¼Œä½† vue router å¹¶æ²¡æœ‰è¾¨è¯†å‡ºæ¥ï¼Œè€Œè¿™ä¸ªé”™è¯¯é€ æˆäº†ç¨‹åºçš„ä¸­æ–­å¼•èµ·çš„ã€‚ä¸‹é¢å¯¹è¯¥è¿‡ç¨‹è¿›è¡Œè®°å½•ã€‚</p>
</blockquote>
<p>[TOC]</p>
<h2 id="é”™è¯¯å¤ç°"><a href="#é”™è¯¯å¤ç°" class="headerlink" title="é”™è¯¯å¤ç°"></a>é”™è¯¯å¤ç°</h2><p>ä¸ºäº†è¯´æ˜è¯¥é—®é¢˜ï¼Œå°†è¯¥ bug ç®€å•å¤ç°å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>å®Œæ•´ä»£ç å¯ä» <a href="https://github.com/chenzhongchen27/client-laborary" target="_blank" rel="noopener">client-laborary</a> è·å¾—</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/a'</span>,</span><br><span class="line">      name: <span class="string">'A'</span>,</span><br><span class="line">      component: A</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/b'</span>,</span><br><span class="line">      name: <span class="string">'B'</span>,</span><br><span class="line">      component: B</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">'*'</span>, <span class="attr">redirect</span>: <span class="string">'/a'</span> &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (to.path === <span class="string">'/b'</span>) &#123;</span><br><span class="line">    <span class="comment">// åˆ©ç”¨ assert æŠ›å‡ºä¸€ä¸ªé”™è¯¯</span></span><br><span class="line">    assert(<span class="literal">false</span>, <span class="string">'æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè¯¥é”™è¯¯ä¼šæ‰“æ–­è·³è½¬ï¼Œä½†ä¸ä¼šè¢« vue router æ•æ‰åˆ°'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  next()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>åœ¨ä» a é¡µé¢è·³è½¬å» b é¡µé¢çš„æ—¶å€™ï¼Œä¼šå‘ç°è·³è½¬ä¸è¿‡å»ï¼Œè€Œä¸”æ§åˆ¶å°ä¸ä¼šæŠ¥é”™ã€‚</p>
<h2 id="é”™è¯¯å®šä½"><a href="#é”™è¯¯å®šä½" class="headerlink" title="é”™è¯¯å®šä½"></a>é”™è¯¯å®šä½</h2><blockquote>
<p>å› ä¸ºç®€åŒ–äº†ä»£ç ï¼Œå®šä½è¯¥é”™è¯¯ä¼šè½»æ¾å¾ˆå¤šã€‚æˆ‘ä»¬ä¸€çœ¼å¯ä»¥çœ‹å‡ºï¼Œåœ¨ <code>assert</code> åº”è¯¥ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œä»è€Œæ‰“æ–­ç¨‹åºçš„è¿è¡Œã€‚é‚£ä¹ˆåé¢çš„è¯­å¥ <code>next()</code> ä¸ä¼šè¿è¡Œï¼Œè‡ªç„¶è·³è½¬ä¸è¿‡å»ã€‚</p>
</blockquote>
<p>å¯¹é”™è¯¯è¿›è¡Œè·Ÿè¸ªï¼Œå‘ç° vue-router ä¸­å¤„ç†é”™è¯¯çš„é€»è¾‘å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (isError(err)) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>$<span class="number">1.</span>errorCbs.length) &#123;</span><br><span class="line">        <span class="keyword">this</span>$<span class="number">1.</span>errorCbs.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">cb</span>) </span>&#123;</span><br><span class="line">            cb(err);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        warn(<span class="literal">false</span>, <span class="string">'uncaught error during route navigation:'</span>);</span><br><span class="line">        <span class="built_in">console</span>.error(err);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">onAbort &amp;&amp; onAbort(err);</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹å‡ºï¼Œvue å…ˆå¯¹ err è¿›è¡Œäº†åˆ¤æ–­ <code>isError(err)</code>ã€‚å¦‚æœåˆ¤æ–­æˆç«‹ï¼Œåˆ™ç”¨<code>this$1.errorCbs</code>è¿›è¡Œå¤„ç†ï¼Œæˆ–è€…ç”¨<code>console.error</code>æ‰“å°å‡ºæ¥ã€‚</p>
<p>æ·±å…¥ <code>isError(err)</code> ï¼Œå‘ç°åˆ¤æ–­é€»è¾‘å¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isError</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(err).indexOf(<span class="string">'Error'</span>) &gt; <span class="number">-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>err ç”¨ <code>Object.prototype.toString.call(err)</code> è¿›è¡Œå¤„ç†åï¼Œè¿”å›çš„ç»“æœä¸º <code>[object object]</code>ï¼Œæ‰€ä»¥è¢« vue åˆ¤æ–­ä¸ºéé”™è¯¯å¯¹è±¡ã€‚è€Œå¦‚æœä¸º Error å®ä¾‹ï¼Œåˆ™åº”è¯¥è¾“å‡ºçš„æ˜¯ <code>[object Error]</code>ã€‚æ‰€ä»¥ vue router è®¤ä¸ºæŠ›å‡ºçš„ä¸æ˜¯é”™è¯¯å¯¹è±¡ï¼Œæ‰€ä»¥ä¸ä¼šæ‰“å°å‡ºæ¥ã€‚</p>
<p>ä½†ç”¨ instanceof è¿›è¡Œåˆ¤æ–­ï¼Œä¼šå‘ç° <code>err instanceof Error</code> è¿”å›çš„æ˜¯ <code>true</code>ã€‚</p>
<p>é‚£ä¹ˆ <code>Object.prototype.toString.call</code> æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆç”¨å®ƒå¯¹ err çš„ç±»å‹è¿›è¡Œåˆ¤æ–­ï¼Ÿ</p>
<h2 id="Object-prototype-toString"><a href="#Object-prototype-toString" class="headerlink" title="Object.prototype.toString"></a>Object.prototype.toString</h2><p>æŸ¥è¯¢ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString" target="_blank" rel="noopener">MDN æ–‡æ¡£</a>ï¼Œå‘ç°æ˜¯ä¸€ç§æ£€æµ‹å¯¹è±¡ç±»å‹çš„æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> toString = <span class="built_in">Object</span>.prototype.toString;</span><br><span class="line"></span><br><span class="line">toString.call(<span class="keyword">new</span> <span class="built_in">Date</span>); <span class="comment">// [object Date]</span></span><br><span class="line">toString.call(<span class="keyword">new</span> <span class="built_in">String</span>); <span class="comment">// [object String]</span></span><br><span class="line">toString.call(<span class="built_in">Math</span>); <span class="comment">// [object Math]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Since JavaScript 1.8.5</span></span><br><span class="line">toString.call(<span class="literal">undefined</span>); <span class="comment">// [object Undefined]</span></span><br><span class="line">toString.call(<span class="literal">null</span>); <span class="comment">// [object Null]</span></span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥æ£€æµ‹ Date String Math Undefined Null ç­‰ï¼ŒError ä¹Ÿä¸ä¾‹å¤–ã€‚</p>
<p>ä½†ä¸ºä»€ä¹ˆå’Œ instanceof åˆ¤æ–­çš„ä¸åŒï¼Œ<code>Object.prototype.toString.call</code> è¾“å‡ºçš„å®è´¨æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘æ‰¾åˆ°äº†ç›¸åº”çš„è§„èŒƒ:</p>
<p><a href="https://www.ecma-international.org/ecma-262/5.1/#sec-15.2.4.2" target="_blank" rel="noopener">ECMAScript 5.1 (ECMA-262) Object.prototype.toString</a></p>
<p>æŒ‰è§„èŒƒä¸Šè¯´æ˜ï¼Œå½“è¯¥æ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œåˆ†ä¸‹é¢å‡ æ­¥æ‰§è¡Œï¼š</p>
<blockquote>
<p>When the toString method is called, the following steps are taken:</p>
</blockquote>
<blockquote>
<ol>
<li>If the this value is undefined, return â€œ[object Undefined]â€.</li>
<li>If the this value is null, return â€œ[object Null]â€.</li>
<li><strong>Let O be the result of calling ToObject passing the this value as the argument.</strong></li>
<li>Let class be the value of the [[Class]] internal property of O.</li>
<li>Return the String value that is the result of concatenating the three Strings â€œ[object â€œ, class, and â€œ]â€.</li>
</ol>
</blockquote>
<p>err æ»¡è¶³ç¬¬ä¸‰æ¡ï¼Œæ•…ä¼šå°† err ä½œä¸ºå‚æ•°ä¼ é€’ç»™ <code>ToObject</code> ï¼Œç„¶åå°†è¿”å›ç»“æœçš„ <code>[[class]]</code> å±æ€§ä½œä¸º <code>class</code> çš„å€¼ï¼ŒæŒ‰ <code>&quot;[object &quot;, class, and &quot;]&quot;</code> æ‹¼æ¥æˆæœ€ç»ˆçš„ç»“æœã€‚</p>
<p>æ‰€ä»¥æ ¸å¿ƒæ˜¯ <code>ToObject</code> æ–¹æ³•å’Œ <code>[[class]]</code> å±æ€§ã€‚</p>
<p>ä½†æŸ¥çœ‹ <a href="https://www.ecma-international.org/ecma-262/5.1/#sec-9.9" target="_blank" rel="noopener">ToObject è§„èŒƒ</a>ï¼Œå‘ç°å‚æ•°æ˜¯å¯¹è±¡çš„è¯ï¼Œåªæ˜¯åŸæ ·è¿”å›ï¼Œä¸ä¼šè¿›è¡Œä»»ä½•è½¬æ¢ã€‚æ‰€ä»¥å…³é”®ç‚¹åœ¨å†…éƒ¨å±æ€§ <code>[[class]]</code> ä¸Šã€‚</p>
<p>assert æŠ›å‡ºçš„é”™è¯¯å¯¹è±¡ï¼Œ<code>[[class]]</code> æ˜¯ <code>object</code>ï¼Œè€Œç”¨ <code>Error</code> å®ä¾‹åŒ–çš„é”™è¯¯å¯¹è±¡ï¼Œ<code>[[class]]</code> æ˜¯ <code>Error</code>ã€‚</p>
<p>æˆ‘ä»¬å»æŸ¥çœ‹ assert çš„å†…éƒ¨å®ç°ã€‚</p>
<h2 id="nodejs-ç«¯-assert-å®ç°"><a href="#nodejs-ç«¯-assert-å®ç°" class="headerlink" title="nodejs ç«¯ assert å®ç°"></a>nodejs ç«¯ assert å®ç°</h2><blockquote>
<p>æˆ‘åœ¨è¿™å„¿èµ°äº†æ®µå¼¯è·¯ï¼Œç›´æ¥å»æŸ¥çœ‹çš„ nodejs assert æ¨¡å—ã€‚å…¶å®åœ¨æµè§ˆå™¨ç«¯çš„ assertæ˜¯ä¸€ä¸ªå…¼å®¹ nodejs API çš„ <a href="https://github.com/defunctzombie/commonjs-assert" target="_blank" rel="noopener">ç¬¬ä¸‰æ–¹ assert åº“</a>ã€‚ä½†ä¹Ÿå› æ­¤ææ‡‚äº† extends ç»§æ‰¿çš„å®è´¨ã€‚æ¯”è¯¥ bug çš„è§£å†³æ›´æœ‰ä»·å€¼ã€‚</p>
</blockquote>
<p>nodejs -&gt; lib/assert.js æºç å¦‚ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> errors = <span class="built_in">require</span>(<span class="string">'internal/errors'</span>);</span><br><span class="line">    â€¦â€¦</span><br><span class="line">    â€¦â€¦</span><br><span class="line">    â€¦â€¦</span><br><span class="line"><span class="keyword">const</span> assert = <span class="built_in">module</span>.exports = ok;</span><br><span class="line">    â€¦â€¦</span><br><span class="line">    â€¦â€¦</span><br><span class="line">    â€¦â€¦</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ok</span>(<span class="params">value, message</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!value) innerFail(value, <span class="literal">true</span>, message, <span class="string">'=='</span>, ok);</span><br><span class="line">&#125;</span><br><span class="line">    â€¦â€¦</span><br><span class="line">    â€¦â€¦</span><br><span class="line">    â€¦â€¦</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">innerFail</span>(<span class="params">actual, expected, message, operator, stackStartFunction</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> errors.AssertionError(&#123;</span><br><span class="line">    message,</span><br><span class="line">    actual,</span><br><span class="line">    expected,</span><br><span class="line">    operator,</span><br><span class="line">    stackStartFunction</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">    â€¦â€¦</span><br><span class="line">    â€¦â€¦</span><br><span class="line">    â€¦â€¦</span><br></pre></td></tr></table></figure>
<p>ç”±ä»£ç å¯ä»¥çœ‹å‡ºï¼Œassert å…¶å®æŠ›å‡ºäº†ä¸€ä¸ª errors.AssertionError å¯¹è±¡ï¼Œè€Œè¯¥å¯¹è±¡åœ¨ <code>internal/errors</code> æ¨¡å—ä¸­ã€‚ç»§ç»­è·Ÿè¿›</p>
<p>nodejs -&gt; lib/internal/errors.js æºç </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AssertionError</span> <span class="keyword">extends</span> <span class="title">Error</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(options) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> options !== <span class="string">'object'</span> || options === <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> exports.TypeError(<span class="string">'ERR_INVALID_ARG_TYPE'</span>, <span class="string">'options'</span>, <span class="string">'object'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> &#123;</span><br><span class="line">            actual,</span><br><span class="line">            expected,</span><br><span class="line">            message,</span><br><span class="line">            operator,</span><br><span class="line">            stackStartFunction</span><br><span class="line">        &#125; = options;</span><br><span class="line">        <span class="keyword">if</span> (message) &#123;</span><br><span class="line">            <span class="keyword">super</span>(message);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            â€¦â€¦</span><br><span class="line">            â€¦â€¦</span><br><span class="line">            â€¦â€¦</span><br><span class="line">        &#125;</span><br><span class="line">            â€¦â€¦</span><br><span class="line">            â€¦â€¦</span><br><span class="line">            â€¦â€¦</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å‘ç°ï¼ŒAssertionError æ˜¯ç»§æ‰¿è‡ª Error çš„ç±»ã€‚</p>
<p>é‚£ç°åœ¨å°±æœ‰äº†ä¸‹ä¸€ä¸ªç–‘é—®ï¼Œç”¨ extends ç»§æ‰¿çš„æ–°ç±»ï¼Œå®ƒå®ä¾‹åŒ–ä¹‹åçš„å±æ€§ <code>[[class]]</code> ä¸ºä»€ä¹ˆæ˜¯ <code>object</code> ï¼Œè€Œä¸æ˜¯ <code>Error</code> ï¼Œæˆ–è€… <code>AssertionError</code> ï¼Ÿå¦‚æœæ˜¯è¿™ä¸¤è€…çš„ä»»æ„ä¸€ä¸ªï¼Œvue ä¸­å¯¹é”™è¯¯çš„åˆ¤æ–­å°±å¯ä»¥æˆç«‹ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬ç»§ç»­å¯¹ <code>extends</code> çš„ç»§æ‰¿è§„èŒƒè¿›è¡Œäº†æŸ¥è¯¢ï¼š</p>
<h2 id="extends-ç»§æ‰¿è§„èŒƒ"><a href="#extends-ç»§æ‰¿è§„èŒƒ" class="headerlink" title="extends ç»§æ‰¿è§„èŒƒ"></a>extends ç»§æ‰¿è§„èŒƒ</h2><p>åœ¨ <a href="https://www.ecma-international.org/ecma-262/6.0/#sec-error-constructor" target="_blank" rel="noopener">Error ä¸­ extends ç»§æ‰¿è§„èŒƒ</a> ä¸­å‘ç°è¿™æ ·ä¸€æ®µæè¿°ï¼š</p>
<blockquote>
<p>The Error constructor is designed to be subclassable. It may be used as the value of an extends clause of a class definition. Subclass constructors that intend to inherit the specified Error behaviour must include a super call to the Error constructor to create and initialize subclass instances with a [[ErrorData]] internal slot.</p>
</blockquote>
<p>å¤§æ„å°±æ˜¯ Error å¯ä»¥ç”¨ extends è¿›è¡Œç»§æ‰¿æ¥æ„é€ å­ç±»ã€‚å­ç±»å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œå¿…é¡»åœ¨ constructor ä¸­è°ƒç”¨  super ,ä»è€Œç”¨ä¸€ä¸ª <code>[[ErrorData]]</code> å†…éƒ¨æ’æ§½å¯¹å­ç±»çš„å®ä¾‹åˆå§‹åŒ–ã€‚</p>
<p>å¯¹ <a href="https://www.ecma-international.org/ecma-262/6.0/#sec-object-internal-methods-and-internal-slots" target="_blank" rel="noopener">internal slot</a> è¿›è¡Œæ¢ç©¶ï¼Œå‘ç°å¾ˆé•¿ç¯‡å¹…çš„è¯´æ˜ï¼Œå…¶ä¸­çš„é¦–æ®µæ˜¯ä¸€ä¸ªæ€»ç»“ï¼š</p>
<blockquote>
<p>The actual semantics of objects, in ECMAScript, are specified via algorithms called internal methods. Each object in an ECMAScript engine is associated with a set of internal methods that defines its runtime behaviour. These internal methods are not part of the ECMAScript language. They are defined by this specification purely for expository purposes. However, each object within an implementation of ECMAScript must behave as specified by the internal methods associated with it. The exact manner in which this is accomplished is determined by the implementation.</p>
</blockquote>
<p>ç¿»è¯‘å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>ECMAScriptä¸­å¯¹è±¡çš„å®é™…è¯­ä¹‰æ˜¯é€šè¿‡ç§°ä¸ºå†…éƒ¨æ–¹æ³•çš„ç®—æ³•æŒ‡å®šçš„ã€‚ ECMAScriptå¼•æ“ä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½ä¸ä¸€ç»„å†…éƒ¨æ–¹æ³•ç›¸å…³è”ï¼Œè¿™äº›å†…éƒ¨æ–¹æ³•å®šä¹‰äº†å®ƒè¿è¡Œæ—¶çš„è¡Œä¸ºã€‚ è¿™äº›å†…éƒ¨æ–¹æ³•ä¸æ˜¯ECMAScriptè¯­è¨€çš„ä¸€éƒ¨åˆ†ã€‚ å®ƒä»¬ä»…ç”±å‡ºäºè¯´æ˜ç›®çš„è€Œç”±æœ¬è§„èŒƒå®šä¹‰ã€‚ ä½†æ˜¯ï¼ŒECMAScriptå¼•æ“å®ç°çš„æ¯ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½å¿…é¡»æŒ‰ç…§ä¸å…¶å…³è”çš„å†…éƒ¨æ–¹æ³•çš„æŒ‡å®šè¡Œäº‹ã€‚è€Œå®ç°çš„ç¡®åˆ‡æ–¹å¼å¯ä»¥ç”±å¼•æ“æœ¬èº«æ¥å†³å®šã€‚</p>
</blockquote>
<p>ç»“åˆè§„èŒƒä¸­çš„å…¶ä»–å†…å®¹ï¼Œå¤§æ¦‚èƒ½ç†è§£å†…éƒ¨æ’æ§½çš„æ„æ€ï¼š ECMAScriptä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½æœ‰å¾ˆå¤šå†…éƒ¨æ–¹æ³•å’Œå†…éƒ¨æ’æ§½ï¼Œè¿™ä¸ªå¯¹è±¡çš„è¡Œä¸ºæœ¬è´¨æ˜¯ç”±è¿™äº›å†…éƒ¨æ–¹æ³•å’Œæ’æ§½å†³å®šçš„ã€‚è¿™äº›æ–¹æ³•å’Œæ’æ§½åŒ…æ‹¬ <code>[[GetPrototypeOf]]</code> <code>[[SetPrototypeOf]]</code> <code>[[GetOwnProperty]]</code> <code>[[Get]]</code> ç­‰ç­‰ã€‚å…¶ä¸­ <code>[[class]]</code> å’Œ <code>[[ErrorData]]</code> åº”è¯¥å°±æ˜¯å…¶ä¸­ä¹‹äºŒã€‚<code>[[ErrorData]]</code>åº”è¯¥æ˜¯ Error ç‰¹æœ‰çš„ã€‚</p>
<p>ç»“åˆ <a href="http://es6.ruanyifeng.com/#docs/class-extends#%E5%8E%9F%E7%94%9F%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E7%BB%A7%E6%89%BF" target="_blank" rel="noopener">é˜®è€å¸ˆå¯¹åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿</a> çš„è¯´æ˜ï¼Œå°±å¯ä»¥ç†è§£es6ç»§æ‰¿å’Œå®ä¾‹åŒ–çš„å®è´¨ï¼šå…ˆå®ä¾‹åŒ–çˆ¶ç±»ï¼Œç”Ÿæˆå½“å‰ this( <strong>å·²ç»æŒ‚è½½äº†çˆ¶ç±»çš„å†…éƒ¨æ–¹æ³•å’Œæ’æ§½</strong>ï¼Œæ¯”å¦‚ <code>[[class]]</code> )ï¼Œå†å¾€è¯¥ this ä¸Šæ·»åŠ å­ç±»çš„æ–¹æ³•æˆ–å±æ€§ã€‚ä»è€Œ<strong>ä¿è¯å­ç±»è¿è¡Œæ—¶çš„è¡Œä¸ºå’Œçˆ¶ç±»ä¸€è‡´</strong>ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç»§æ‰¿ Error çš„å­ç±» AssertionError ï¼Œåœ¨å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œä¼šå…ˆç”¨ Error å®ä¾‹åŒ–thisï¼Œä¹Ÿå°±æ˜¯æ·»åŠ å†…éƒ¨å±æ€§ï¼Œç„¶åå†å¾€ä¸Šé¢æ·»åŠ å­ç±»çš„æ–¹æ³•ã€‚è€Œè§„èŒƒé‡Œä¹Ÿå¹¶æ²¡æœ‰è¯´æ˜ extends ä¼šæ›´æ”¹å¯¹åº”çš„å†…éƒ¨å±æ€§ <code>[[class]]</code>ï¼Œæ‰€ä»¥å†…éƒ¨å±æ€§ <code>[[class]]</code> åº”è¯¥è¿˜æ˜¯å­—ç¬¦ä¸² <code>Error</code>ã€‚ç”¨ <code>Object.prototype.toString</code> è¯æ˜äº†è¿™ä¸€ç‚¹ã€‚</p>
<p>æŒ‰è¿™ä¸ªé€»è¾‘ï¼Œvue router çš„åˆ¤æ–­åº”è¯¥æ˜¯å¯¹çš„ã€‚é‚£ä¼šä¸ä¼šæ˜¯æ‰“åŒ…çš„æ—¶å€™ç”¨ babel è¿›è¡Œè½¬ç å¼•èµ·çš„ï¼Ÿæˆ‘åˆå¯¹ babel çš„è½¬ç æœºåˆ¶è¿›è¡Œäº†æ¢ç©¶ã€‚</p>
<h2 id="babel-è½¬ç çš„å®è´¨"><a href="#babel-è½¬ç çš„å®è´¨" class="headerlink" title="babel è½¬ç çš„å®è´¨"></a>babel è½¬ç çš„å®è´¨</h2><p>ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘å¹¶æ²¡æœ‰æŸ¥çœ‹ babel çš„æºç ï¼Œè€Œæ˜¯ç›´æ¥çœ‹ babel è½¬ç ä¹‹åçš„è¡¨ç°ã€‚babel æœ‰ä¸€ä¸ªç½‘é¡µç‰ˆçš„ç•Œé¢ï¼Œèƒ½å®æ—¶æŸ¥çœ‹è½¬ç åçš„ä»£ç ï¼Œæˆ‘å†™äº†ä¸€ä¸ª <a href="http://babeljs.io/repl/#?babili=false&amp;browsers=&amp;build=&amp;builtIns=false&amp;spec=false&amp;loose=false&amp;code_lz=G4QwTgBANg9g5hAvBAxjAdgZxlApgOljnwCMBLdAEwAo0sdcBKAKBShE0wgFEAPAF1xUQJPNzBgYkXAKGUu4yZADezCKgyZ-YAK4p-U6gFtcnEHCYRV69Zh0AHXGGqMA3Gpv8AFmUz4TZhZIEAGY5rjuNhDevvhaICgA1sHU6LgA7jwShoyMcfwJiZGePn7oICbBMX50Wrr6UvjlJsUAvsztzMygkEYAnk5KwWmZfILCoriKhgDkUFAzbl1ExgPZkBTx6Ci4MABmPLITYussKwDyJABWuPr49pIG_H2O-AYAytoUxCgg86uDKS5ZhAA&amp;debug=false&amp;forceAllTransforms=false&amp;shippedProposals=false&amp;circleciRepo=&amp;evaluate=true&amp;fileSize=false&amp;sourceType=module&amp;lineWrap=false&amp;presets=es2015%2Creact%2Cstage-2&amp;prettier=false&amp;targets=&amp;version=6.26.0&amp;envVersion=" target="_blank" rel="noopener">ç»§æ‰¿ Error æ„é€ å­ç±»çš„ä¾‹å­</a>.</p>
<p>æŸ¥çœ‹äº† babel è½¬ç åçš„ä»£ç ï¼Œå‘ç°ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„ç°è±¡ï¼šbabel çš„å®ç°æ˜¯å®Œå…¨åŸºäº es6 çš„ç»§æ‰¿è§„èŒƒæ¥çš„ï¼Œå³å…ˆå®ä¾‹åŒ–çˆ¶ç±»ï¼Œå†å°†å­ç±»çš„å±æ€§é™„åŠ åˆ°çˆ¶ç±»ä¸Šï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line">    â€¦â€¦</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_possibleConstructorReturn</span>(<span class="params">self, call</span>) </span>&#123;</span><br><span class="line">    â€¦â€¦</span><br><span class="line">    <span class="comment">// ç›´æ¥è¿”å›ç¬¬äºŒä¸ªå‚æ•° callï¼Œè€Œ call å°±ç®—çˆ¶ç±»æ„é€ çš„å®ä¾‹</span></span><br><span class="line">    <span class="keyword">return</span> call &amp;&amp; (<span class="keyword">typeof</span> call === <span class="string">"object"</span> || <span class="keyword">typeof</span> call === <span class="string">"function"</span>) ? call : self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_inherits</span>(<span class="params">subClass, superClass</span>) </span>&#123;</span><br><span class="line">    â€¦â€¦</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (superClass)</span><br><span class="line">        <span class="built_in">Object</span>.setPrototypeOf ? <span class="built_in">Object</span>.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> log = <span class="built_in">console</span>.log.bind(<span class="built_in">console</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ExtendableError = <span class="function"><span class="keyword">function</span> (<span class="params">_Error</span>) </span>&#123;</span><br><span class="line">    _inherits(ExtendableError, _Error);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">ExtendableError</span>(<span class="params">message</span>) </span>&#123;</span><br><span class="line">        â€¦â€¦</span><br><span class="line">        <span class="comment">// ç”¨çˆ¶ç±»æ„é€  thisï¼Œæ­¤å¤„ç¬¬äºŒä¸ªå‚æ•°ç›¸å½“äº Error.call(this)ã€‚ä½† Error ä¼šå¿½ç•¥ç»‘å®šçš„ thisï¼Œæ‰€ä»¥ç›¸å½“äºç›´æ¥å®ä¾‹åŒ– Error</span></span><br><span class="line">        <span class="keyword">var</span> _this = _possibleConstructorReturn(<span class="keyword">this</span>, (ExtendableError.__proto__ || <span class="built_in">Object</span>.getPrototypeOf(ExtendableError)).call(<span class="keyword">this</span>));</span><br><span class="line">        <span class="comment">// å¯¹ this æ·»åŠ è‡ªæ„é€ å‡½æ•°çš„å±æ€§ message</span></span><br><span class="line">        _this.message = message;</span><br><span class="line">        _this.stack = <span class="keyword">new</span> <span class="built_in">Error</span>().stack;</span><br><span class="line">        _this.name = _this.constructor.name;</span><br><span class="line">        <span class="keyword">return</span> _this;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ExtendableError;</span><br><span class="line">&#125;(<span class="built_in">Error</span>);</span><br></pre></td></tr></table></figure>
<p> ä½†æ˜¯ï¼ï¼æŒ‰å½“å‰çš„å®ç°ï¼Œè™½ç„¶ç”¨ <code>Object.prototype.toString</code> åˆ¤æ–­æ—¶ä¼šè¿”å› <code>[object Error]</code>ï¼Œè€Œä¸”ç”¨ instanceof åˆ¤æ–­æ˜¯å¦å±äº Error æ—¶ä¹Ÿæ˜¯ trueï¼Œä½†ç”¨ instanceof åˆ¤æ–­å®ä¾‹æ˜¯å¦å±äºå­ç±»æ—¶ï¼Œä¼šè¿”å› falseï¼Ÿï¼Ÿï¼ç¬”è€…ä¸€è„¸æ‡µé€¼ã€‚è€Œä¸”è¯•éªŒä¹‹åç¡®å®šæ˜¯è¿™æ ·çš„ã€‚</p>
<p>é‚£é—®é¢˜åˆå›åˆ°äº†åˆå§‹çš„æ—¶å€™ï¼šæ—¢ç„¶æ— è®ºæ˜¯ es6 çš„ extends è§„èŒƒï¼Œè¿˜æ˜¯ babel çš„è½¬ç ï¼Œéƒ½è¯æ˜ vue ä¸­å¯¹æ˜¯å¦æ˜¯é”™è¯¯çš„åˆ¤æ–­ <code>Object.prototype.toString.call(err).indexOf(&#39;Error&#39;) &gt; -1</code> æ˜¯æ­£ç¡®çš„ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆæµè§ˆå™¨è¿˜ä¼šå‡ºç°åˆ¤æ–­é”™è¯¯çš„æƒ…å†µï¼Ÿ</p>
<p>è¿™æ—¶å€™ç¬”è€…æ‰æƒ³èµ·ï¼Œnodejs å†…ç½®çš„å‡ ä¸ªåŒ…ï¼Œåœ¨æµè§ˆå™¨ç«¯å¼•ç”¨çš„æ—¶å€™ï¼Œå…¶å®éƒ½æ˜¯å¼•çš„å¦ä¸€ä¸ªå…¼å®¹æµè§ˆå™¨çš„åŒ…ã€‚å¹¶ä¸æ˜¯ nodejs å†…ç½®çš„æ¨¡å—ğŸ˜­ã€‚æœç„¶åœ¨ node_modules ä¸­æ‰¾åˆ°äº†æµè§ˆå™¨ç«¯ assert çš„å®ç°ï¼š</p>
<h2 id="browser-ç«¯-assert-å®ç°"><a href="#browser-ç«¯-assert-å®ç°" class="headerlink" title="browser ç«¯ assert å®ç°"></a>browser ç«¯ assert å®ç°</h2><p>æˆ‘é¡¹ç›® node_modules ä¸­çš„ assert æ˜¯æœ€æ–°çš„ 1.4.1 ç‰ˆæœ¬ï¼Œè¿™ä¸ªåŒ…æ˜¯ npm è‡ªåŠ¨å®‰è£…çš„ï¼Œå¹¶æ²¡æœ‰åœ¨æˆ‘çš„ package.json ä¸­ä½“ç°å‡ºæ¥ã€‚æºä»£ç åœ°å€ï¼š <a href="https://github.com/defunctzombie/commonjs-assert/tree/v1.4.1" target="_blank" rel="noopener">commonjs-assert@1.4.1</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">    â€¦â€¦</span><br><span class="line"><span class="keyword">var</span> assert = <span class="built_in">module</span>.exports = ok;</span><br><span class="line">    â€¦â€¦</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ok</span>(<span class="params">value, message</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!value) fail(value, <span class="literal">true</span>, message, <span class="string">'=='</span>, assert.ok);</span><br><span class="line">&#125;</span><br><span class="line">assert.ok = ok;</span><br><span class="line">    â€¦â€¦</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fail</span>(<span class="params">actual, expected, message, operator, stackStartFunction</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> assert.AssertionError(&#123;</span><br><span class="line">    message: message,</span><br><span class="line">    actual: actual,</span><br><span class="line">    expected: expected,</span><br><span class="line">    operator: operator,</span><br><span class="line">    stackStartFunction: stackStartFunction</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">    â€¦â€¦</span><br><span class="line">assert.AssertionError = <span class="function"><span class="keyword">function</span> <span class="title">AssertionError</span>(<span class="params">options</span>) </span>&#123;  â€¦â€¦  &#125;</span><br><span class="line">    â€¦â€¦</span><br><span class="line">util.inherits(assert.AssertionError, <span class="built_in">Error</span>);</span><br><span class="line">    â€¦â€¦</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šæ‰€ç¤ºï¼ŒæŠ›å‡ºçš„ AssertionError æ˜¯ä½¿ç”¨ util.inherits ç»§æ‰¿äº† Error å¯¹è±¡ã€‚</p>
<p><a href="https://github.com/isaacs/inherits/blob/master/inherits_browser.js" target="_blank" rel="noopener">inherits çš„å®ç°</a>åœ¨å•ç‹¬çš„åº“ä¸­ï¼Œå®ç°æ–¹å¼å¾ˆç®€å•ï¼Œæ ¸å¿ƒä¸è¿‡æ˜¯ç”¨ <code>Object.create</code> åŒ…è£…ä¸€ä¸‹è€Œå·²ã€‚æ‰€ä»¥å­ç±»çš„å®è´¨å°±æ˜¯åŸå§‹çš„ Object è€Œå·²ï¼Œæ‰€ä»¥å†…éƒ¨å±æ€§ <code>[[class]]</code> ä¸ºå­—ç¬¦ä¸² objectã€‚</p>
<p>æ‰€ä»¥ <code>Object.prototype.toString.call(err).indexOf(&#39;Error&#39;)</code> è¾“å‡ºçš„æ˜¯ <code>[object object]</code>ï¼Œæ•…ç”¨ <code>Object.prototype.toString.call(err).indexOf(&#39;Error&#39;) &gt; -1</code> ä¼šåˆ¤æ–­å‡ºé”™ã€‚</p>
<h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><p>çŸ¥é“äº†é—®é¢˜åŸå› ï¼Œè§£å†³èµ·æ¥å°±å¾ˆç®€å•äº†ã€‚ç¬”è€…æ‰¾äº†å¦ä¸€ä¸ª assert åº“ <a href="https://github.com/socialally/browser-assert" target="_blank" rel="noopener">browser-assert</a>ã€‚å®ƒçš„å®ç°éå¸¸ç®€å•ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">assert</span>(<span class="params">expr, message</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(!<span class="built_in">Boolean</span>(expr)) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(message || <span class="string">'unknown assertion error'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å› ä¸ºæ˜¯ç›´æ¥æŠ›å‡ºçš„ Error å®ä¾‹ï¼Œæ‰€ä»¥ vue ä¸ä¼šåˆ¤æ–­å‡ºé”™ã€‚<br>åœ¨ webpack ä¸­å°† assert è®¾ç½®æˆ browser-assert çš„åˆ«åï¼Œåˆ™æµè§ˆå™¨ä¸­å¼•ç”¨çš„å°±éƒ½æ˜¯ browser-assert ã€‚<br>ç¼ºç‚¹å°±æ˜¯ API å’Œ nodejs ä¸èƒ½ä¿æŒä¸€è‡´ï¼Œåªèƒ½ç›´æ¥ä½¿ç”¨ <code>assert(expression)</code>ã€‚ä½†å› ä¸ºé¡¹ç›®ä¸­å‰ç«¯ä»£ç åªç”¨åˆ°è¿™ä¸€ä¸ª APIï¼Œæ‰€ä»¥å¯¹æˆ‘ä»¬çš„é¡¹ç›®æ¥è¯´å€’å¾ˆåˆé€‚ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬æ¬¡æ’æŸ¥æœ€å¤§çš„æ”¶è·æ˜¯åŠ æ·±äº†å¯¹ es6 ä¸­ç»§æ‰¿æœºåˆ¶çš„ç†è§£ï¼Œes6 ä¸­ç»§æ‰¿ä¸ä»…ä»…æ˜¯åŸå‹ç»§æ‰¿çš„è¯­æ³•ç³–ï¼Œå®ƒæœ‰æ›´æ·±å±‚æ¬¡çš„ä¸œè¥¿ã€‚è¿™äº›æ·±å±‚æ¬¡çš„ä¸œè¥¿æœ‰äº›å¾ˆéš¾ç”¨æ—§çš„è¯­æ³•æ¥å®ç°ï¼Œæ‰€ä»¥ babel çš„è½¬ç å¹¶ä¸èƒ½ä¿è¯å®Œå…¨å¯é ã€‚ä»Šåç»§æ‰¿åº”è¯¥å°½é‡ç”¨ es6 çš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ç”¨åŸå‹ç»§æ‰¿çš„æ–¹å¼ã€‚</p>
<hr>

        </div>
        <p class="post-copyright">æœ¬æ–‡ç‰ˆæƒå½’ lingximu æ‰€æœ‰ã€‚æ¥æºçµçŠ€æœ¨åšå®¢(blog.lingximu.com)ï¼Œå•†ä¸šè½¬è½½è¯·è”ç³»æœ¬äººè·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
        </p>
        <div class="clearfix"></div>
        <hr class="nogutter">
        <div class="summary">
          <!-- <a class="code-article" href="https://github.com/yangzj1992/blob/master/assert-error.md" target="_blank" rel="nofollow noopener noreferrer">
            <i class="fa fa-file-code-o"></i>
            <span class="i-name">æºç </span>
          </a> -->
          <i class="fa fa-tags"></i>
          <span class="i-name"></span>
          <span class="post-meta">
            
          </span>
          <i class="fa fa-eye"></i>
          <span class="i-name">
            <span id="busuanzi_container_page_pv">
              <span id="busuanzi_value_page_pv"></span>æ¬¡é˜…è¯»
            </span>
          </span>
          <!-- <span class="reward">
            <i class="fa fa-rmb"></i>
            <span class="i-name post-words">æ‰“èµ</span>
          </span> -->
          <span id="share" class="share-box">
            <div class="qrcode" id="qrcode"></div>
            <a id="wechat" class="share-icon" title="åˆ†äº«åˆ°å¾®ä¿¡" data-wechat-url="" href="javascript:void(0);">
              <i class="icon-CN_tencent_wechat"></i>
            </a>
            <a id="weibo" class="share-icon" target="_blank" rel="nofollow noopener noreferrer" title="åˆ†äº«åˆ°å¾®åš" href="http://service.weibo.com/share/share.php?title=è®°ä¸€æ¬¡ assert ä¸­æŠ›å‡ºçš„é”™è¯¯è¢« vue router åäº†çš„ bug æ’æŸ¥ç»å† | çµçŠ€æœ¨ | lingximu&#39;s blog &amp;url=http://www.101.132.161.32:8000/2018/07/21/assert-error/index.html&amp;type=3&amp;searchPic=false">
              <i class="icon-CN_sina_weibo"></i>
            </a>
            <a id="qzone" class="share-icon" target="_blank" rel="nofollow noopener noreferrer" title="åˆ†äº«åˆ° QQ ç©ºé—´" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.101.132.161.32:8000/2018/07/21/assert-error/index.html&amp;title=è®°ä¸€æ¬¡ assert ä¸­æŠ›å‡ºçš„é”™è¯¯è¢« vue router åäº†çš„ bug æ’æŸ¥ç»å† | çµçŠ€æœ¨ | lingximu&#39;s blog">
              <i class="icon-CN_tencent_qzone"></i>
            </a>
            <a id="twitter" class="share-icon" target="_blank" rel="nofollow noopener noreferrer" title="Share to Twitter" href="https://twitter.com/intent/tweet?url=http://www.101.132.161.32:8000/2018/07/21/assert-error/index.html&amp;text=è®°ä¸€æ¬¡ assert ä¸­æŠ›å‡ºçš„é”™è¯¯è¢« vue router åäº†çš„ bug æ’æŸ¥ç»å†;via=lingximu| çµçŠ€æœ¨ | lingximu&#39;s blog">
              <i class="icon-Popular_Twitter"></i>
            </a>
            <a id="facebook" class="share-icon" target="_blank" rel="nofollow noopener noreferrer" title="Share to Facebook" href="http://www.facebook.com/sharer.php?u=&amp;t=è®°ä¸€æ¬¡ assert ä¸­æŠ›å‡ºçš„é”™è¯¯è¢« vue router åäº†çš„ bug æ’æŸ¥ç»å† | çµçŠ€æœ¨ | lingximu&#39;s blog">
              <i class="icon-Popular_Facebook"></i>
            </a>
            <a id="gplus" class="share-icon" target="_blank" rel="nofollow noopener noreferrer" title="Share to Google+" href="https://plus.google.com/share?url=http://www.101.132.161.32:8000/2018/07/21/assert-error/index.html">
              <i class="icon-Popular_G"></i>
            </a>
          </span>
        </div>
      </div>
      <nav class="pagination" role="pagination">
  
  
    <a class="pull-right" href="/2018/07/15/koajs-envs/">
      nodejs å¤šç¯å¢ƒé…ç½®æœ€ä½³å®è·µ â†’
    </a>
  
</nav>

      <div class="clear"></div>
      <div class="post-comment">
        <div class="duoshuo"><p class="disqus-error" style="padding-top: 40px;">æœ¬åšå®¢é‡‡ç”¨ Disqus ä½œä¸ºè¯„è®ºè§£å†³æ–¹æ¡ˆï¼Œç›®å‰ Disqus ç»å¸¸è¢« GFW å°é”ï¼Œè‹¥æƒ³å‚ä¸è¯„è®ºè¯·ç¿»å¢™è®¿é—®æœ¬ç«™æˆ–å°† disqus.com æ·»åŠ è‡³ç¿»å¢™ç™½åå•ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡å¯¼èˆªæ ä¸Šçš„ç¤¾äº¤ç½‘ç«™ä¸æˆ‘è”ç³»</p>
<div id="disqus_thread"></div>
<script>
  (function() {  
    var d = document, s = d.createElement('script');
    s.src = '//lingximu.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    s.onload = function (){
      $('.disqus-error').hide();
    } 
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div>
      </div>
    </div>
  </div>
</section>

<script src="/js/lib/jquery.qrcode.min.js"></script>
<script>
  $("#wechat").hover(function() {
    $("#qrcode").css('display','inline-block');
    jQuery("#qrcode").qrcode({
      text:utf16to8("http://www.101.132.161.32:8000/2018/07/21/assert-error/index.html"),
      width:96,
      height:96
    });
  },function(){
    $("#qrcode").css('display','none');
    jQuery("#qrcode").html('');
  });
  function utf16to8(str) {
    var out, i, len, c;
    out = "";
    len = str.length;
    for (i = 0; i < len; i++) {
      c = str.charCodeAt(i);
      if ((c >= 0x0001) && (c <= 0x007F)) {
        out += str.charAt(i);
      } else if (c > 0x07FF) {
        out += String.fromCharCode(0xE0 | ((c >> 12) & 0x0F));
        out += String.fromCharCode(0x80 | ((c >> 6) & 0x3F));
        out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));
      } else {
        out += String.fromCharCode(0xC0 | ((c >> 6) & 0x1F));
        out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));
      }
    }
    return out;
  }
</script>

    <!-- ============================ Footer =========================== -->
<div class="control-panel">
  <ul>
    <li>
      <i class="fa fa-arrow-up"></i>
    </li>
    <li>
      <i class="fa fa-arrow-down"></i>
    </li>
    <li>
      <i class="fa fa-music"></i>
    </li>
  </ul>
</div>
<footer>
  <div class="footer">
    <div class="copy">
      <p>
        &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By lingxi mu. All Rights Reserved.
      </p>
      <p>
        <span id="busuanzi_container_site_pv">
          This site already had <span id="busuanzi_value_site_pv"></span> Visits by
        </span>
        <span id="busuanzi_container_site_uv">
          <span id="busuanzi_value_site_uv"></span> Visitors
        </span>
      </p>
      <p>
        Powered by <a href="https://hexo.io/zh-cn/">Hexo</a> & <a href="https://github.com/lingximu/hexo-theme-lxm">hexo-theme-lxm</a>,
        Hosted by <a href="https://pages.coding.me">Coding Pages</a> & <a href="https://pages.github.com/">Github Pages</a>
      </p>
    </div>
    <div class="social">
      <ul>
        
          <li><a href="https://github.com/lingximu" title="Github" target="_blank" rel="nofollow noopener noreferrer"><i class="icon-Popular_GitHub"></i>&nbsp;</a></li>
        
        <li class="weixin"><a href="javascript:void(0)" title="Weixin"><i class="icon-CN_tencent_wechat"></i>&nbsp;</a></li>
        
          <li><a href="http://weibo.com/lingximu" title="Sina-Weibo" target="_blank" rel="nofollow noopener noreferrer"><i class="icon-CN_sina_weibo"></i>&nbsp;</a></li>
        
        
          <li><a href="https://twitter.com/lingximu" title="Twitter" target="_blank" rel="nofollow noopener noreferrer"><i class="icon-Popular_Twitter"></i>&nbsp;</a></li>
        
        
          <li><a href="http://www.zhihu.com/people/lingximu" title="Zhihu" target="_blank" rel="nofollow noopener noreferrer"><i class="icon-CN_zhihu"></i></a>&nbsp;</li>
        
      </ul>
      <div class="search">
        <form id="searchform" class="searchform" onsubmit="return dispatch()">
          <div class="search_text">
            <i class="fa fa-search"></i>
            <input type="text" name="q" id="searchbox" class="searchbox" value="" placeholder="">
          </div>
        </form>
      </div>
    </div>
    <div class="clearfix"></div>
  </div>
  <div style="display:none">
    
<!-- cnzzç»Ÿè®¡ä»£ç   -->
<script type="text/javascript">
  var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1000263347'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s96.cnzz.com/z_stat.php%3Fid%3D1000263347' type='text/javascript'%3E%3C/script%3E"));
</script>
<!-- cnzzç»Ÿè®¡ä»£ç end  -->

  </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- <script async id="dsq-count-scr" src="https://lingximu.disqus.com/count.js" ></script> -->
<!-- ============================ END Footer =========================== -->
    <!-- Load our scripts -->
        
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
  var resizeHero = function () {
    var hero = $(".cover,.heightblock"),
      window1 = $(window);
    hero.css({
      "height": window1.height()
    });
  };
  resizeHero();
  $(window).resize(function () {
    resizeHero();
  });
</script>
<script src="/js/dist/base.min.js"></script>


  <script type="text/javascript" src="/build/public/js/bundle.ebb0e0e1.min.js"></script></body>
</html>
